# 本日行ったこと

## コマンドライン操作
### ファイル操作コマンド詳細
|コマンド名|機能|オプション|
|----|-----|----|
|cd|ディレクトリ移動<br>`cd ディレクトリ名`||
|ls|現在のディレクトリ内にあるディレクトリやファイルの一覧を表示<br>`ls`|-a:.ファイルも表示<br>-l:より詳細な情報を表示|
|pwd|現在のディレクトリパスを表示<br>`pwd`||
|mkdir|ディレクトリ作成<br>`mkdir ディレクトリ名`||
|rm|ファイル削除<br>`rm 削除ファイル名`||
|rmdir|ディレクトリ削除<br>`rmdir 削除ディレクトリ名`||
|touch|ファイル作成<br>`touch 作成ファイル名`||
|cp|ファイルコピー<br>`cp $コピー元path$ $コピー先path$`||
|mv|ファイル、ディレクトリ名変更、別ディレクトリに移動<br>`mv $変更元フォルダ名、ディレクトリ名$ $変更後フォルダ名、ディレクトリ名$`<br>`mv $移動元フォルダ名、ディレクトリ名$ $移動後フォルダ名、ディレクトリ名$`|-b:移動先に同名のファイルがあれば、バックアップをとり上書き<br>-f:移動先に同名のファイルがあれば、強制的に上書き<br>-i:移動先に同名のフォルダがあれば、確認する<br>-n:移動先に同名のファイルかディレクトリがあれば上書きしない<br>-v:移動処理の詳細情報を表示|
|zip|圧縮<br>`zip オプション　ファイル名.zip 圧縮ディレクトリ名`||
|unzip|解凍<br>`zip オプション　ファイル名.zip`||
|tar|圧縮、解凍ツール<br>圧縮`tar オプション ファイル名.tar 圧縮ディレクトリ名`<br>解凍`tar オプション ファイル名.tar`|-c:新しいtarファイルの作成<br>-v:圧縮、解凍状況を表示<br>-x:解凍<br>-f:圧縮ファイル名指定|

### ファイル編集、検索、内容、権限コマンド詳細
|コマンド名|機能|オプション|
|----|----|----|
|vim|ファイル書き込みコマンド<br>`vim ファイル名`||
|cat|ファイルの中身全てを標準出力<br>`cat  ファイル名`||
|scp|ファイル転送コマンド<br>`scp オプション $コピー元$ $コピー先$`|-i 秘密鍵ファイル: sshで通信する際使用|


## ローカルIPアドレスとグローバルIPアドレスを調査
### ローカル
* グローバルIPアドレス
`curl ipecho.net/plain; echo`

* プライベートIPアドレス
`ifconfig`からinet項目で出力されるIPアドレス

### インスタンス
* グローバルIPアドレス
`curl inet-ip.info`で出力されるIPアドレス（色んな方法ありますね）

* プライベートIPアドレス
`ip a`でinet項目で出力されたIPアドレス

## 追加課題
###test-server.comとpingすると研修用ubuntuへpingするように設定
下記を実行
```
# ローカルの/etc/hostsに下記を追記
ipアドレス      test-server.com

# ローカルで下記を実行
ping test-server.com
```
を実行すると、別のアドレスにpingを送っていた。設定がまずいのだろうか。

#### 対策
インスタンスのグローバルIPアドレスにpingを送っても通らない。ローカルの設定問題ではなく、インスタンス側の問題だと考えられる。
**pingはICMPプロトコル**を使用しているため、インスタンス側でICMP許可の設定をする必要がある。
firewallの設定をすればpingを通すことも可能だとわかり、色々調べたが一からネットワーク構成ファイルを作成しそうなので諦めた。また今度やります。


## 本日学んだTips
### /etc/hostsファイル
**大まかに言うと、ホスト名とIPアドレスを対応させるファイル**。DNSのようなもの。
Macでは`/private/etc/hosts`にあるが、`/etc/hosts`でも参照、編集可能

### chmodで指定する数字の意味
rwx と２進数対応している。
例: 3→011→-wxとなる。

### スティッキービット
linuxで使用できるパーミッション。
スティッキービットが設定されたディレクトリは全てのユーザーがファイルの作成、書き込み可能。しかし、ファイルやディレクトリを削除や名前の変更をできるのは所有者のみ。
例えば、`chmod 1644 ファイル名`を実行すればスティッキービットを付与できる。

一般ユーザーが勝手にファイル名を変えたり削除できなくするために`/tmp`によく付与されている。

### パーミッション
権限の先頭にある、ファイル種別を表す文字。

|種別|意味|
|-|ファイル|
|d|ディレクトリ|
|l|シンボリックリンク|

シンボリックリンクは特定のファイルやディレクトリへのショートカット（リンク先を格納したファイル）
シンボリックリンク自体はリンク先が無くても作成可能。
仮想環境とローカル環境のファイルアクセスを可能にするため、実際の開発現場では使われる。

コード実行例
```
# シンボリックリンクを作成
# ln オプション リンク元　リンク名
ln -s test/dailylog loglink


# リンク作成場所で実行
cat loglink

今日の記録

頑張った
```

### zipとtarの違い
tarの方が圧縮率が高く、ファイルの破損を防ぐ効果もある。
また、zipを解凍すると管理者権限が変わる。そのため、tarで圧縮解凍したほうが、お客様環境でのトラブルが少なくなる。

### 127.0.0.1
ループバックアドレスの一つ。localhostを表すアドレス。

